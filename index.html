<!DOCTYPE html><html lang="en"><head><title>index</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content=""><meta name="groc-document-path" content="index"><meta name="groc-project-path" content="README.md"><link rel="stylesheet" type="text/css" media="all" href="assets/style.css"><link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Arvo|PT+Sans"><script type="text/javascript" src="assets/behavior.js"></script><body><div id="meta"><div class="file-path">README.md</div></div><div id="document"><div class="segment"><div class="comments "><div class="wrapper"><h1 id="the-future-monad">The Future monad</h1>

<p><a href="https://travis-ci.org/folktale/data.future"><img src="https://secure.travis-ci.org/folktale/data.future.png?branch=master" alt="Build Status" title="" /></a>
<a href="http://badge.fury.io/js/data.future"><img src="https://badge.fury.io/js/data.future.png" alt="NPM version" title="" /></a>
<a href="https://david-dm.org/folktale/data.future"><img src="https://david-dm.org/folktale/data.future.png" alt="Dependencies Status" title="" /></a>
<a href="http://github.com/hughsk/stability-badges"><img src="http://hughsk.github.io/stability-badges/dist/stable.svg" alt="stable" title="" /></a></p>

<p>The <code>Future(a, b)</code> monad represents values that depend on time. This allows one
to model time-based effects explicitly, such that one can have full knowledge
of when they're dealing with delayed computations, latency, or anything that
can not be computed immediately.</p>

<p>A common use for this monad is to replace the usual
<a href="http://matt.might.net/articles/by-example-continuation-passing-style/">Continuation-Passing Style</a> form of programming, in order to be able to
compose and sequence time-dependent effects using the generic and powerful
monadic operations.</p>

<h2 id="example">Example</h2>

<pre><code class="js">var Future = require('data.future')
var fs = require('fs')

// read : String -&gt; Future(Error, Buffer)
function read(path) {
  return new Future(reject, resolve) {
    fs.readFile(path, function(error, data) {
      if (error)  reject(error)
      else        resolve(data)
    })
  }
}

// decode : Future(Error, Buffer) -&gt; Future(Error, String)
function decode(buffer) {
  return buffer.map(function(a) {
    return a.toString('utf-8')
  })
}

var intro = decode(read('intro.txt'))
var outro = decode(read('outro.txt'))

// You can use `.chain` to sequence two asynchronous actions, and
// `.map` to perform a synchronous computation with the eventual
// value of the Future.
var concatenated = intro.chain(function(a) {
                     return outro.map(function(b) {
                       return a + b
                     })
                   })

// But the implementation of Future is pure, which means that you'll
// never observe the effects by using `chain` or `map` or any other
// method. The Future just records the sequence of actions that you
// wish to observe, and defers the playing of that sequence of actions
// for your application's entry-point to call.
//
// To observe the effects, you have to call the `fork` method, which
// takes a callback for the rejection, and a callback for the success.
concatenated.fork(
  function(error) { throw error }
, function(data)  { console.log(data) }
)
</code></pre>

<h2 id="installing">Installing</h2>

<p>The easiest way is to grab it from NPM. If you're running in a Browser
environment, you can use <a href="http://browserify.org/">Browserify</a></p>

<pre><code>$ npm install data.future
</code></pre>

<h3 id="using-with-commonjs">Using with CommonJS</h3>

<p>If you're not using NPM, <a href="https://github.com/folktale/data.future/releases/download/v2.0.0/data.future-2.0.0.tar.gz">Download the latest release</a>, and require
the <code>data.future.umd.js</code> file:</p>

<pre><code class="js">var Future = require('data.future')
</code></pre>

<h3 id="using-with-amd">Using with AMD</h3>

<p><a href="https://github.com/folktale/data.future/releases/download/v2.0.0/data.future-2.0.0.tar.gz">Download the latest release</a>, and require the <code>data.future.umd.js</code>
file:</p>

<pre><code class="js">require(['data.future'], function(Future) {
  ( ... )
})
</code></pre>

<h3 id="using-without-modules">Using without modules</h3>

<p><a href="https://github.com/folktale/data.future/releases/download/v2.0.0/data.future-2.0.0.tar.gz">Download the latest release</a>, and load the <code>data.future.umd.js</code>
file. The properties are exposed in the global <code>Future</code> object:</p>

<pre><code class="html">&lt;script src="/path/to/data.future.umd.js"&gt;&lt;/script&gt;
</code></pre>

<h3 id="compiling-from-source">Compiling from source</h3>

<p>If you want to compile this library from the source, you'll need <a href="http://git-scm.com/">Git</a>,
<a href="http://www.gnu.org/software/make/">Make</a>, <a href="http://nodejs.org/">Node.js</a>, and run the following commands:</p>

<pre><code>$ git clone git://github.com/folktale/data.future.git
$ cd data.future
$ npm install
$ make bundle
</code></pre>

<p>This will generate the <code>dist/data.future.umd.js</code> file, which you can load in
any JavaScript environment.</p>

<h2 id="documentation">Documentation</h2>

<p>You can <a href="http://folktale.github.io/data.future">read the documentation online</a> or build it yourself:</p>

<pre><code>$ git clone git://github.com/folktale/monads.maybe.git
$ cd monads.maybe
$ npm install
$ make documentation
</code></pre>

<p>Then open the file <code>docs/literate/index.html</code> in your browser.</p>

<h2 id="platform-support">Platform support</h2>

<p>This library assumes an ES5 environment, but can be easily supported in ES3
platforms by the use of shims. Just include <a href="https://github.com/kriskowal/es5-shim">es5-shim</a> :)</p>

<h2 id="licence">Licence</h2>

<p>Copyright (c) 2013-2014 Quildreen Motta.</p>

<p>Released under the <a href="https://github.com/folktale/data.future/blob/master/LICENCE">MIT licence</a>.</p>

<!-- links -->

<!-- [release: https://github.com/folktale/data.future/releases/download/v$VERSION/data.future-$VERSION.tar.gz] -->

<!-- [/release] --></div></div></div></div></body></html>